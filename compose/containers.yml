services:
  filebrowser:
    container_name: filebrowser
    image: hurlenko/filebrowser
    user: "${UID}:${GID}"
    ports:
      - 6565:8080
    volumes:
      - /nas:/nas
      - /config:/nas/config
      - /nas/lab/config/containers/filebrowser:/config
    environment:
      - FB_BASEURL=/filebrowser
    restart: unless-stopped
  audiobookshelf:
    container_name: audiobookshelf
    image: ghcr.io/advplyr/audiobookshelf:latest
    ports:
      - 13378:80
    volumes:
      - /nas/media/books:/audiobooks
      - /nas/lab/config/containers/audiobookshelf/config:/config
      - /nas/lab/config/containers/audiobookshelf/metadata:/metadata
    restart: unless-stopped
  duplicati:
    image: lscr.io/linuxserver/duplicati:latest
    container_name: duplicati
    environment:
      - PUID=$PUID
      - PGID=$PGID
      - TZ=$TZ
    volumes:
      - /nas/lab/config/containers/duplicati:/config
      - /nas/:/nas/
    ports:
      - 8200:8200
    restart: unless-stopped
  watchtower:
    container_name: watchtower
    volumes:
      - /var/run/docker.sock:/var/run/docker.sock
    environment:
      - TZ=$TZ
      - WATCHTOWER_CLEANUP=true
      - WATCHTOWER_POLL_INTERVAL=86400
      # - WATCHTOWER_HTTP_API_TOKEN=watchtowertkn
    image: containrrr/watchtower
    restart: unless-stopped
  archisteamfarm:
    container_name: archisteamfarm
    volumes:
      - /nas/lab/config/containers/asf/config:/app/config
      - /nas/lab/config/containers/asf/logs:/app/logs
    ports:
      - 1242:1242
    image: justarchi/archisteamfarm
    restart: unless-stopped
  grocy:
    image: lscr.io/linuxserver/grocy:latest
    container_name: grocy
    environment:
      - PUID=$PUID
      - PGID=$PGID
      - TZ=$TZ
    volumes:
      - /nas/lab/config/containers/grocy:/config
    ports:
      - 9283:80
    restart: unless-stopped
  homepage:
    image: ghcr.io/gethomepage/homepage:latest
    container_name: homepage
    environment:
      PUID: $PUID
      PGID: $PGID
    ports:
      - 3000:3000
    volumes:
      - /nas/lab/config/containers/homepage:/app/config # Make sure your local config directory exists
      - /var/run/docker.sock:/var/run/docker.sock:ro # optional, for docker integrations
      - /nas:/nas
    restart: unless-stopped
  qdirstat:
    container_name: qdirstat
    image: jlesage/qdirstat
    ports:
      - "5800:5800"
    volumes:
      - /nas/lab/config/containers/qdirstat:/config
      - /nas/:/nas
    restart: unless-stopped